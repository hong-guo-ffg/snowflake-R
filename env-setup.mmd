
flowchart LR

%% Group environments together
subgraph Deployment_Environments["Environment Strategy Overview"]
        %% Legend
    subgraph Legend
    L1[Solid Arrow] --> L2[Data Flow: Sources â†’ Warehouses]
    L3[Dashed Arrow] -.-> L4[Code/Deployment Promotion Path]
    end

    %% Local Dev
    subgraph Local
      A1[Hub Local Env]
      A2[Mock Data Setup]
      A1 --> A2
    end

    %% Dev Sandbox
    subgraph DevSandbox
      B1[Ephemeral Dev Sandbox]
      B2[Cloned Schema / Small Test Data]
      B2 --> B1
    end

    %% Staging
    subgraph Staging
      C1[Staging Warehouse]
      C2[(Staging Sources)]
      C2 --> C1
    end

    %% Production
    subgraph Production
      D1[Prod Warehouse]
      D2[(Prod Sources)]
      D2 --> D1
    end

    %% Promotion Path (dashed)
    A2 -.-> B1
    B1 -.-> C1
    C1 -.-> D1


end

%% Data Flow Within Each Environment
subgraph Env["Any Environment (Sandbox / Staging / Prod)"]
    
    R[Raw Layer]
    C[Clean/Transform Layer]
    RP[Reportable Layer]

    R --> C --> RP
end

